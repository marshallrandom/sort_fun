<html>
<head>

    <link rel="stylesheet" href="/css/stylesheet.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <script src="/js/jquery-3.5.1.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>


</head>
<script>

    function showListInfo(elem) {

       document.getElementById( 'description_preview' ).textContent = elem.parentElement.getElementsByClassName( 'listdescription' )[0].textContent;
       document.getElementById( 'listname_preview' ).textContent =  elem.parentElement.getElementsByClassName( 'listname' )[0].textContent;
       if ( elem.parentElement.getElementsByClassName( 'listimage' )[0].textContent != "")
            document.getElementById( 'image_preview' ).innerHTML= '<img src="' + elem.parentElement.getElementsByClassName( 'listimage' )[0].textContent + '" width="300" height="300" alt="image here">' ; 
       else
            document.getElementById( 'image_preview' ).innerHTML= '' ; 

        };



</script>

                    <% if(!currentUser){ %>
<form action="/login" method="POST">
    <input type="text" name="username" placeholder="username">
    <input type="password" name="password" placeholder="password">
    <input type="submit" value="Login!">
</form>
                        <li><a href="/register">Sign Up</a></li>
                    <% } else { %>
                        <li><a href="#">Signed In As <%= currentUser.username %></a></li>
                        <li><a href="/logout">Logout</a></li>
                    <% } %>
                    
 <h3>Lists - total comparisons <%-totalcomparisons%><span id="list_image" style="position:fixed; top: 20%; left: 30%;"><h3 id="listname_preview"></h3><h3 id="description_preview"></h3><h3 id="image_preview"></h3></span></h3>
<span class="container">
    <span class="row justify-content-start">
    <ul id="list" class="col-4">
    <% var countitems = 1; %>
    <% if ( !(typeof sortedresult === typeof undefined) ) { sortedresult.reverse().forEach(function(listitem){ %>
        <li><label>
            <%=countitems + ") "  %>
            <button type="button" class="btn btn-success btn-sm mb-1 ml-1" onclick="showListInfo(this)">View</button>
            <span class="listdescription d-none"><%=listitem.description%></span>
            <span class="listimage d-none"><%=listitem.image%></span>
            <span class="listname"><%=listitem.name%></span>
            <span class="listnameid d-none"><%=listitem.id%></span>            
        
        </label>           
       
        </li>

    </form> 
    <% countitems++; }) }; %>
    </ul>





</span>

</span>


<a href="/">Back To Main</a>


</html>